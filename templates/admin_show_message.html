{% extends "admin.html" %}

{% block title %}Ù„ÛŒØ³Øª Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin_show_message.css') }}">
{% endblock %}

{% block content %}
    <!-- Show Messages Section -->
    <section class="show-messages-section">
        <div class="container">
            <h1 class="section-title">Ù„ÛŒØ³Øª Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§</h1>
            
            {% if messages %}
                <div class="messages-list">
                    {% for message in messages %}
                        <div class="message-item">
                            <div class="message-header">
                                <h2>
                                    <a href="{{ url_for('admin_manage_users', message_id=message.id) }}" 
                                       class="message-link">
                                        Ù¾ÛŒØ§Ù… #{{ message.id }}
                                    </a>
                                </h2>
                                <span class="message-date">{{ message.created_time.strftime('%Y-%m-%d %H:%M') }}</span>
                            </div>
                            
                            <div class="message-preview">
                                <div class="message-field">
                                    <span class="field-label">ğŸ“§ Ø§ÛŒÙ…ÛŒÙ„:</span>
                                    <span class="field-value">{{ message.email }}</span>
                                </div>
                                
                                <div class="message-field">
                                    <span class="field-label">ğŸ“ Ù¾ÛŒØ§Ù…:</span>
                                    <p class="message-text-preview">
                                        {{ message.message[:100] }}{% if message.message|length > 100 %}...{% endif %}
                                    </p>
                                </div>
                            </div>
                            
                            <div class="message-actions">
                                <a href="{{ url_for('admin_manage_users', message_id=message.id) }}" 
                                   class="btn btn-outline">
                                    Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ø§Ù…Ù„
                                </a>
                                <a href="{{ url_for('delete_message', message_id=message.id) }}" 
                                   class="btn btn-delete"
                                   onclick="return confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ù¾ÛŒØ§Ù… Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ')">
                                    Ø­Ø°Ù
                                </a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="no-messages">
                    <p>Ù¾ÛŒØ§Ù…ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.</p>
                </div>
            {% endif %}
        </div>
{% endblock %}